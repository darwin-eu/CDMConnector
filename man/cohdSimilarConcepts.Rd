% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cohdSimilarConcepts.R
\name{cohdSimilarConcepts}
\alias{cohdSimilarConcepts}
\title{Get similar concepts from Columbia Open Health Data (COHD) API}
\usage{
cohdSimilarConcepts(
  conceptId,
  datasetId = 1,
  baseUrl = "https://cohd-api.ci.transltr.io/api",
  topN = 50,
  timeoutSec = 30
)
}
\arguments{
\item{conceptId}{Integer or coercible string. The OMOP concept ID to find similar
concepts for (e.g. a condition, drug, or procedure).}

\item{datasetId}{Integer. COHD dataset ID (1 = 5-year, 2 = lifetime; default 1).}

\item{baseUrl}{Character. Base URL of the COHD API (default points to public
tranSMART Foundation instance).}

\item{topN}{Integer. Maximum number of similar concepts to return (default 50).}

\item{timeoutSec}{Numeric. Request timeout in seconds (default 30).}
}
\value{
A data frame with one row per similar concept, or \code{NULL} if the API is
unavailable or the request fails. When successful, the data frame contains:
\itemize{
\item \code{concept_id_1}, \code{concept_id_2}: the two concept IDs in the pair
\item \code{concept_count_1}, \code{concept_count_2}: counts for each concept in the dataset
\item \code{concept_count}: count of patients with both concepts
\item \code{relative_frequency}: strength of association (higher = more related)
\item \code{other_concept_id}: the ID of the "other" concept (the similar concept,
i.e. not the one you queried)
Rows are sorted by \code{relative_frequency} descending and limited to \code{topN}.
If no results or an error occurs, returns \code{NULL} and a message is printed.
}
}
\description{
Queries the COHD API association/relativeFrequency endpoint to return concepts
that co-occur with the given concept, ranked by relative frequency. Useful for
finding clinically related conditions, drugs, or procedures based on EHR prevalence.
}
\examples{
\dontrun{
# Get top 25 concepts similar to concept 201826 (Type 2 diabetes)
cohdSimilarConcepts(201826, datasetId = 1, topN = 25)
}

}
\references{
Ta, Casey N.; Dumontier, Michel; Hripcsak, George; P. Tatonetti, Nicholas;
Weng, Chunhua (2018). Columbia Open Health Data, a database of EHR prevalence
and co-occurrence of conditions, drugs, and procedures. figshare. Collection.
\url{https://doi.org/10.6084/m9.figshare.c.4151252.v1}

COHD collection: \url{https://figshare.com/collections/Columbia_Open_Health_Data_a_database_of_EHR_prevalence_and_co-occurrence_of_conditions_drugs_and_procedures/4151252}
}
